var j=Object.defineProperty;var w=(a,s,t)=>s in a?j(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var n=(a,s,t)=>w(a,typeof s!="symbol"?s+"":s,t);import{aK as b,aL as m,aM as N,aN as x,aH as f,r as h,j as e,L as y}from"./index-B5saNMBH.js";import{u as v,L as I,F as S,a as E,b as k,c as L,d as A,o as R}from"./LockClosedIcon-C7p0ZxFm.js";class M{constructor(){n(this,"instance");n(this,"baseApiUrl");this.baseApiUrl=b||"",this.instance=m.create({baseURL:this.baseApiUrl,headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:3e5}),this.instance.interceptors.request.use(s=>(localStorage.getItem("token")&&s.headers&&(s.headers.Authorization="Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNjc1ZWE5M2I3YjdhZDUxMzliM2U0NTRlIiwicm9sZSI6Im93bmVyIn0sImlhdCI6MTczNjUwNzc5OSwiZXhwIjoxNzM2NTk0MTk5fQ.sKb-nyMcCuEEDVK8ibV-7XMFes_fWY4J48FRhxX0uaY"),s),s=>Promise.reject(s))}async login(s){var t,i;try{return(await this.instance.post("/auth/users/login",s)).data}catch(l){throw m.isAxiosError(l)?new Error(((i=(t=l.response)==null?void 0:t.data)==null?void 0:i.message)||"Login failed."):l}}}const F=new M,U=N({email:x().email("Invalid email address").required("Email is required"),password:x().min(6,"Password must be at least 6 characters").required("Password is required")}),B=()=>{const a=f(),[s,t]=h.useState(!1),[i,l]=h.useState(null),{register:c,handleSubmit:u,formState:{errors:o},trigger:d}=v({resolver:R(U),mode:"onBlur"}),p=async g=>{try{l(null);const r=await F.login(g);if(r&&r.token&&r.user)localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),r.user.role==="owner"?a("/owner/dashboard"):r.user.role==="admin"?a("/admin/dashboard"):a("/user/dashboard");else throw new Error("Invalid credentials or missing data")}catch(r){l(r.message||"Login failed. Please try again.")}};return e.jsxs("div",{className:"grid lg:grid-cols-12 h-full",children:[e.jsx("div",{className:"col-span-5 bg-white",children:e.jsxs("div",{className:"lg:max-w-[60%] m-auto p-10 flex flex-col justify-center mt-10",children:[e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("img",{src:I,alt:"Logo",className:"h-16"}),e.jsx("h1",{className:"text-[33px]",children:"Google Ads"})]}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mt-4",children:"Sign In"}),e.jsx("p",{className:"text-gray-600 mt-2 text-xl",children:"Letâ€™s get started with a brand new experience"})]}),e.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-gray-700",children:"Email"}),e.jsxs("div",{className:"flex items-center border rounded-md p-3 focus-within:ring-2 focus-within:ring-blue-500",children:[e.jsx(S,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("input",{type:"email",placeholder:"Enter your email",...c("email"),className:"w-full outline-none",onBlur:()=>d("email")})]}),o.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-gray-700",children:"Password"}),e.jsxs("div",{className:"flex items-center border rounded-md p-3 focus-within:ring-2 focus-within:ring-blue-500",children:[e.jsx(E,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("input",{type:s?"text":"password",placeholder:"Enter your password",...c("password"),className:"w-full outline-none",onBlur:()=>d("password")}),e.jsx("button",{type:"button",onClick:()=>t(!s),className:"focus:outline-none",children:s?e.jsx(k,{className:"h-5 w-5 text-gray-500"}):e.jsx(L,{className:"h-5 w-5 text-gray-500"})})]}),o.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.password.message})]}),i&&e.jsx("div",{className:"text-red-500 text-sm",children:i}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),e.jsx("span",{children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-blue-500",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 border mt-10 text-white py-3 rounded-md cursor-pointer hover:bg-white hover:text-blue-600 hover:border-blue-600 transition-all hover:scale-105",children:"Sign In"})]}),e.jsxs("p",{className:"text-center text-md mt-6",children:["Don't have an account?"," ",e.jsx(y,{to:"/signup",className:"text-blue-500",children:"Create free account"})]})]})}),e.jsx("div",{className:"col-span-7 bg-gray-100",children:e.jsx("div",{className:"pt-10 flex items-center lg:ms-28",children:e.jsxs("div",{className:"mt-10",children:[e.jsxs("div",{className:"max-sm:p-5",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#175cd3] text-[50px] max-sm:leading-[50px]",children:"Welcome to Google Ads"}),e.jsxs("p",{className:"mt-8 text-[#404968] text-[18px]",children:["Clarity gives you the blocks & components you need to create a truly ",e.jsx("br",{})," professional website."]})]}),e.jsx("img",{src:A,alt:"Dashboard",className:"mt-4 h-[660px]"})]})})})]})};export{B as default};
